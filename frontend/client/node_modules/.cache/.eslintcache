[{"/Users/mateonegri/Developer/ArqSW2/UCC-as2-final/frontend/client/src/pages/inicio.jsx":"1","/Users/mateonegri/Developer/ArqSW2/UCC-as2-final/frontend/client/src/pages/cuenta.jsx":"2","/Users/mateonegri/Developer/ArqSW2/UCC-as2-final/frontend/client/src/pages/reservar.jsx":"3","/Users/mateonegri/Developer/ArqSW2/UCC-as2-final/frontend/client/src/pages/login/login_admin.jsx":"4","/Users/mateonegri/Developer/ArqSW2/UCC-as2-final/frontend/client/src/pages/login/Register_cliente.jsx":"5","/Users/mateonegri/Developer/ArqSW2/UCC-as2-final/frontend/client/src/pages/login/login_cliente.jsx":"6","/Users/mateonegri/Developer/ArqSW2/UCC-as2-final/frontend/client/src/pages/editar_hoteles.jsx":"7","/Users/mateonegri/Developer/ArqSW2/UCC-as2-final/frontend/client/src/App.js":"8","/Users/mateonegri/Developer/ArqSW2/UCC-as2-final/frontend/client/src/index.js":"9"},{"size":7874,"mtime":1699295209125,"results":"10","hashOfConfig":"11"},{"size":3258,"mtime":1699291462793,"results":"12","hashOfConfig":"11"},{"size":7057,"mtime":1699287081748,"results":"13","hashOfConfig":"11"},{"size":3157,"mtime":1699286417466,"results":"14","hashOfConfig":"11"},{"size":5441,"mtime":1699285878960,"results":"15","hashOfConfig":"11"},{"size":4639,"mtime":1699286608258,"results":"16","hashOfConfig":"11"},{"size":5809,"mtime":1699295735257,"results":"17","hashOfConfig":"11"},{"size":2995,"mtime":1699295369920,"results":"18","hashOfConfig":"11"},{"size":507,"mtime":1699295597551,"results":"19","hashOfConfig":"11"},{"filePath":"20","messages":"21","suppressedMessages":"22","errorCount":0,"fatalErrorCount":0,"warningCount":4,"fixableErrorCount":0,"fixableWarningCount":0,"source":"23","usedDeprecatedRules":"24"},"1rxvg7k",{"filePath":"25","messages":"26","suppressedMessages":"27","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"28","messages":"29","suppressedMessages":"30","errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"31","messages":"32","suppressedMessages":"33","errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"34","messages":"35","suppressedMessages":"36","errorCount":0,"fatalErrorCount":0,"warningCount":6,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"37","messages":"38","suppressedMessages":"39","errorCount":0,"fatalErrorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"40","messages":"41","suppressedMessages":"42","errorCount":0,"fatalErrorCount":0,"warningCount":4,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"43","messages":"44","suppressedMessages":"45","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"46","messages":"47","suppressedMessages":"48","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},"/Users/mateonegri/Developer/ArqSW2/UCC-as2-final/frontend/client/src/pages/inicio.jsx",["49","50","51","52"],[],"import React, { useContext, useEffect, useState } from 'react';\r\nimport { AuthContext } from './login/auth';\r\nimport './estilo/inicio.css';\r\nimport swal from 'sweetalert2';\r\nimport Cookies from \"universal-cookie\";\r\nimport { useNavigate } from \"react-router-dom\";\r\n\r\nconst Cookie = new Cookies();\r\n\r\nconst HomePage = () => {\r\n  const [hotels, setHotels] = useState([]);\r\n  const [startDate, setStartDate] = useState('');\r\n  const [endDate, setEndDate] = useState('');\r\n  const [city, setCity] = useState('');\r\n  const [idHotelEdit, setIdHotelEdit] = useState('1');\r\n  const { isLoggedCliente } = useContext(AuthContext);\r\n  const { isLoggedAdmin } = useContext(AuthContext);\r\n  const { logout } = useContext(AuthContext);\r\n\r\n  const navigate = useNavigate();\r\n\r\n  console.log(Cookie.get(\"user_id\"))\r\n\r\n  function isEmpty(str) {\r\n    return !str.trim().length;\r\n  }\r\n\r\n  function isJSONEmpty(obj){\r\n    return Object.keys(obj).length === 0;\r\n  }\r\n\r\n  const getHotels = async () => {\r\n    try {\r\n      // const request = await fetch(\"http://localhost:8090/cliente/hoteles\");\r\n       const request = await fetch(\"http://localhost:8090/searchAll=*:*\");\r\n      // const request = await fetch(\"http://localhost:8070/hotel\");\r\n      const response = await request.json();\r\n      console.log(response)\r\n      setHotels(response);\r\n    } catch (error) {\r\n      console.log(\"No se pudieron obtener los hoteles:\", error);\r\n    }\r\n  };\r\n\r\n  useEffect(() => {\r\n    getHotels();\r\n  }, []);\r\n\r\n  const Verificacion = (hotelId) => {\r\n    if (Cookie.get(\"user_id\") !== -1) {\r\n      window.location.href = `/reservar/${hotelId}`;\r\n    }\r\n    else\r\n    {\r\n      window.location.href = '/login-cliente';\r\n    }\r\n  };\r\n\r\n  const handleStartDateChange = (event) => {\r\n    setStartDate(event.target.value);\r\n    const selectedStartDateObj = new Date(event.target.value);\r\n    const endDateObj = new Date(endDate);\r\n    if (selectedStartDateObj > endDateObj) {\r\n      setEndDate('');\r\n      alert(\"Fechas no validas\");\r\n    }\r\n  };\r\n\r\n  const handleEndDateChange = (event) => {\r\n    setEndDate(event.target.value);\r\n    const selectedStartDateObj = new Date(startDate);\r\n    const endDateObj = new Date(event.target.value);\r\n    if (selectedStartDateObj > endDateObj) {\r\n      setEndDate('');\r\n      alert(\"Fechas no validas\");\r\n    }\r\n  };\r\n\r\n  const handleCityChange = (event) => {\r\n    setCity(event.target.value);\r\n  }\r\n\r\n  const filterHotels = async () => {\r\n\r\n      var endDateValue = document.getElementById('end-date').value;\r\n      var startDateValue = document.getElementById('start-date').value;\r\n\r\n      if (isEmpty(city)) {\r\n        alert(\"No esta permitido buscar solo por fecha, debe ingresar un destino!\")\r\n        getHotels();\r\n      } else {\r\n        if (!endDateValue || !startDateValue ){\r\n          const request = await fetch(`http://localhost:8090/search=city_${city}`);\r\n          const response = await request.json();\r\n          if (response !== null) {\r\n            const checkResponse = JSON.stringify(response)\r\n            console.log(checkResponse)\r\n          if (isJSONEmpty(response)) {\r\n            alert(\"No se encontraron hoteles en esa ubicacion\")\r\n            getHotels();\r\n          } else {\r\n            setHotels(response);\r\n          }\r\n          } \r\n        } else {\r\n        const request = await fetch(`http://localhost:8090/search=city_${city}_${startDate}_${endDate}`);\r\n        const response = await request.json();\r\n        if (response !== null) {\r\n          const checkResponse = JSON.stringify(response)\r\n          console.log(checkResponse)\r\n          if (isJSONEmpty(response)) {\r\n            alert(\"No se encontraron hoteles en esa ubicacion disponibles en esa fecha\")\r\n            getHotels();\r\n          } else {\r\n            setHotels(response);\r\n          }\r\n          } else {\r\n          alert(\"No se encontraron hoteles en esa ubicacion disponibles en esa fecha\")\r\n          getHotels();\r\n          }\r\n        }\r\n      }\r\n    };\r\n\r\n  const Admin = () => {\r\n    if (isLoggedCliente){\r\n      swal.fire ({\r\n        customClass: {\r\n          popup: 'popup-custom',\r\n          confirmButton: 'confButton-custom'\r\n        },\r\n        title: \"Ingresa como admin\",\r\n        //html: '<div><p class=\"textAlert\">Los clientes no pueden acceder al area de administracion, por lo que deberas cerrar la sesion del usuario actual e ingresar como un usuario administrador. A continuacion puedes cerrar sesion y seras redirigido al login de administrador o puedes continuar como usuario regular.</p></div>',\r\n        text:\"Los clientes no pueden acceder a el area de administracion, por lo que deberas cerrar la sesion del usuario actual e ingresar como un usuario administrador. A continuacion puedes cerrar sesion y seras redirigido al login de administrador o puedes continuar como usuario regular haciendo click por fuera del recuadro.\",\r\n        confirmButtonText: 'Ingresar como admin',\r\n        icon: \"warning\",\r\n        padding: \"20px\",\r\n        timerProgressBar: \"true\",\r\n        allowOutsideClick: \"true\"\r\n      }).then(response => {\r\n        if(response.isConfirmed){\r\n          logout();\r\n          window.location.href = '/login-admin';\r\n        }\r\n      });\r\n    }\r\n    else if (!isLoggedAdmin) {\r\n      window.location.href = '/login-admin';\r\n    }\r\n    else\r\n    {\r\n      window.location.href = '/admin';\r\n    }\r\n  }\r\n\r\n  const Cuenta = () => {\r\n    if (isLoggedAdmin || isLoggedCliente) {\r\n      window.location.href = '/cuenta';\r\n    }\r\n    else\r\n    {\r\n      window.location.href = '/login-cliente'\r\n    }\r\n  }\r\n\r\n  console.log(Cookie.get(\"user_type\"))\r\n\r\n  const editHotel = (id) => {\r\n    window.location.href = `/hotel/edit/${id}`\r\n  }\r\n\r\n  const renderButton= (id) => (\r\n    <>\r\n    <button onClick={ () => editHotel(id) }>Editar</button>\r\n    </>\r\n  )\r\n  \r\n\r\n  return (\r\n    <body className= \"bodyinicio\">\r\n      <div className=\"header-content\">\r\n        <div className=\"cuenta-button-container\">\r\n          <button className=\"cuenta-button\" onClick={Cuenta}>\r\n            Tu Cuenta\r\n          </button>\r\n        </div>\r\n      </div>\r\n        <div className=\"contdeFechas\">\r\n        <div className=\"localidad\">\r\n            <label className=\"fecha\">¿a dónde vas?</label>\r\n            <input type=\"text\" id=\"destino\" placeholder=\"Su destino\" value={city} onChange={handleCityChange}/>\r\n          </div>\r\n          <div className=\"date-pickerINI1\">\r\n            <label htmlFor=\"start-date\" className=\"fecha\">Entrada</label>\r\n            <input type=\"date\" id=\"start-date\" value={startDate} onChange={handleStartDateChange} />\r\n          </div>\r\n          <div className=\"date-pickerINI1\">\r\n            <label htmlFor=\"end-date\" className=\"fecha\">Salida</label>\r\n            <input type=\"date\" id=\"end-date\" value={endDate} onChange={handleEndDateChange} />\r\n          </div>\r\n            <button className=\"botbusquedaFec\" onClick={filterHotels}>Buscar</button>\r\n            </div>\r\n      <div className=\"containerIni\">\r\n      <div className=\"hotels-container\">\r\n            {hotels.length ? \r\n              ( hotels.map((hotel) => (\r\n                <div className='hotel-card' key={hotel.id}>\r\n                  <img src={hotel.images[0]} alt={hotel.name} className=\"hotel-image\" />\r\n                  <div className=\"hotel-info\">\r\n                    <h4>{hotel.name}</h4>\r\n                    <p>{hotel.description} </p>\r\n                    {console.log(hotel.images[0])}\r\n                    { Cookie.get(\"user_type\") === true ? renderButton(hotel.id) : null } \r\n                    <button onClick={() => Verificacion(hotel.id)}>\r\n                      Reservar\r\n                    </button>\r\n                  </div>\r\n                </div>\r\n              ))\r\n              ) : (\r\n                <p>No hay hoteles</p>\r\n            )}\r\n          </div>\r\n      </div>\r\n    </body> \r\n  );\r\n};\r\n\r\n\r\nexport default HomePage;\r\n",["53"],"/Users/mateonegri/Developer/ArqSW2/UCC-as2-final/frontend/client/src/pages/cuenta.jsx",[],[],"/Users/mateonegri/Developer/ArqSW2/UCC-as2-final/frontend/client/src/pages/reservar.jsx",["54"],[],"/Users/mateonegri/Developer/ArqSW2/UCC-as2-final/frontend/client/src/pages/login/login_admin.jsx",["55"],[],"/Users/mateonegri/Developer/ArqSW2/UCC-as2-final/frontend/client/src/pages/login/Register_cliente.jsx",["56","57","58","59","60","61"],[],"/Users/mateonegri/Developer/ArqSW2/UCC-as2-final/frontend/client/src/pages/login/login_cliente.jsx",["62","63"],[],"/Users/mateonegri/Developer/ArqSW2/UCC-as2-final/frontend/client/src/pages/editar_hoteles.jsx",["64","65","66","67"],[],"/Users/mateonegri/Developer/ArqSW2/UCC-as2-final/frontend/client/src/App.js",[],[],"/Users/mateonegri/Developer/ArqSW2/UCC-as2-final/frontend/client/src/index.js",[],[],{"ruleId":"68","severity":1,"message":"69","line":15,"column":10,"nodeType":"70","messageId":"71","endLine":15,"endColumn":21},{"ruleId":"68","severity":1,"message":"72","line":15,"column":23,"nodeType":"70","messageId":"71","endLine":15,"endColumn":37},{"ruleId":"68","severity":1,"message":"73","line":20,"column":9,"nodeType":"70","messageId":"71","endLine":20,"endColumn":17},{"ruleId":"68","severity":1,"message":"74","line":125,"column":9,"nodeType":"70","messageId":"71","endLine":125,"endColumn":14},{"ruleId":"75","replacedBy":"76"},{"ruleId":"77","severity":1,"message":"78","line":121,"column":6,"nodeType":"79","endLine":121,"endColumn":8,"suggestions":"80"},{"ruleId":"68","severity":1,"message":"81","line":18,"column":10,"nodeType":"70","messageId":"71","endLine":18,"endColumn":18},{"ruleId":"68","severity":1,"message":"82","line":1,"column":17,"nodeType":"70","messageId":"71","endLine":1,"endColumn":26},{"ruleId":"68","severity":1,"message":"83","line":11,"column":10,"nodeType":"70","messageId":"71","endLine":11,"endColumn":22},{"ruleId":"68","severity":1,"message":"84","line":11,"column":24,"nodeType":"70","messageId":"71","endLine":11,"endColumn":39},{"ruleId":"68","severity":1,"message":"85","line":12,"column":10,"nodeType":"70","messageId":"71","endLine":12,"endColumn":25},{"ruleId":"68","severity":1,"message":"86","line":12,"column":27,"nodeType":"70","messageId":"71","endLine":12,"endColumn":45},{"ruleId":"68","severity":1,"message":"87","line":13,"column":17,"nodeType":"70","messageId":"71","endLine":13,"endColumn":25},{"ruleId":"68","severity":1,"message":"88","line":6,"column":26,"nodeType":"70","messageId":"71","endLine":6,"endColumn":31},{"ruleId":"68","severity":1,"message":"81","line":44,"column":10,"nodeType":"70","messageId":"71","endLine":44,"endColumn":18},{"ruleId":"68","severity":1,"message":"89","line":11,"column":7,"nodeType":"70","messageId":"71","endLine":11,"endColumn":13},{"ruleId":"68","severity":1,"message":"90","line":33,"column":7,"nodeType":"70","messageId":"71","endLine":33,"endColumn":19},{"ruleId":"68","severity":1,"message":"91","line":68,"column":15,"nodeType":"70","messageId":"71","endLine":68,"endColumn":23},{"ruleId":"68","severity":1,"message":"92","line":205,"column":11,"nodeType":"70","messageId":"71","endLine":205,"endColumn":25},"no-unused-vars","'idHotelEdit' is assigned a value but never used.","Identifier","unusedVar","'setIdHotelEdit' is assigned a value but never used.","'navigate' is assigned a value but never used.","'Admin' is assigned a value but never used.","no-new-object",["93"],"react-hooks/exhaustive-deps","React Hook useEffect has missing dependencies: 'hotelId' and 'idHotel'. Either include them or remove the dependency array.","ArrayExpression",["94"],"'userData' is assigned a value but never used.","'useEffect' is defined but never used.","'clienteEmail' is assigned a value but never used.","'setClienteEmail' is assigned a value but never used.","'clienteUsername' is assigned a value but never used.","'setClienteUsername' is assigned a value but never used.","'setError' is assigned a value but never used.","'toast' is defined but never used.","'Cookie' is assigned a value but never used.","'notifyDelete' is assigned a value but never used.","'response' is assigned a value but never used.","'handleAmenitie' is assigned a value but never used.","no-object-constructor",{"desc":"95","fix":"96"},"Update the dependencies array to be: [hotelId, idHotel]",{"range":"97","text":"98"},[3286,3288],"[hotelId, idHotel]"]